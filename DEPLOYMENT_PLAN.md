# LookHub –ü–æ—ç—Ç–∞–ø–Ω—ã–π –ü–ª–∞–Ω –î–µ–ø–ª–æ—è

## üìã –û–±–∑–æ—Ä
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—ç—Ç–∞–ø–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è LookHub –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥—É.

## üéØ –¶–µ–ª–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –¥–µ–ø–ª–æ–π
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–∞—Ç–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üöÄ –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –°–µ—Ä–≤–µ—Ä–∞

### 1.1 –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- **OS**: Ubuntu 22.04 LTS+ –∏–ª–∏ CentOS 8+
- **RAM**: –ú–∏–Ω–∏–º—É–º 4GB, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8GB+
- **CPU**: 2+ —è–¥—Ä–∞
- **–î–∏—Å–∫**: 50GB+ SSD
- **–°–µ—Ç—å**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP –∞–¥—Ä–µ—Å

### 1.2 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER
```

### 1.3 –£—Å–∏–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```bash
# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —É—Å–∏–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo bash security/harden-server.sh

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π
ssh-keygen -t ed25519 4096 -C "your-email@example.com"
```

---

## üîß –≠—Ç–∞–ø 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –û–∫—Ä—É–∂–µ–Ω–∏—è

### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–æ–≤
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞
cp env.example .env.prod

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
nano .env.prod
```

### 2.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è LookHubWeb/.env:**
```env
# –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
DOMAIN=example.com

# Email –¥–ª—è Let's Encrypt
SSL_EMAIL=example@example.com

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
POSTGRES_DB=lookhub
POSTGRES_USER=lookhubweb
POSTGRES_PASSWORD=your_strong_password

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
ADMIN_JWT_SECRET=your_jwt_secret_key
ADMIN_USERNAME=your_admin_username
ADMIN_PASSWORD=your_super_secret_user_password

API_KEY=your_super_secret_api_key

#Instagram credentials
INSTAGRAM_LOGIN=your_instagram_login
INSTAGRAM_PASSWORD=your_instagram_password

#Telegram credentials
TELEGRAM_TOKEN=your_telegram_bot_token
TELEGRAM_CHANNEL_ID=-your_telegram_chat_id
```


## üê≥ –≠—Ç–∞–ø 3: –î–µ–ø–ª–æ–π –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 3.1 –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –Ω–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
git clone <repository-url>
cd LookHub

# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.prod.yaml build --no-cache
docker-compose -f docker-compose.prod.yaml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yaml ps
```

### 3.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose -f docker-compose.prod.yaml logs -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ health check
curl -f http://localhost/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker exec lookhub-db pg_isready -U lookhubweb -d lookhub
```

---

## üîí –≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL

### 4.1 –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
```bash
# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (Let's Encrypt)
sudo bash security/setup-ssl.sh your-domain.com admin@your-domain.com

# –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π)
sudo bash security/setup-ssl.sh localhost admin@localhost dev
```

### 4.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sed -i 's/your-domain.com/your-actual-domain.com/g' nginx.prod.conf

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
docker-compose -f docker-compose.prod.yaml restart nginx
```

---

## üìä –≠—Ç–∞–ø 5: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 5.1 –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
# –ó–∞–ø—É—Å–∫ Prometheus, Grafana –∏ Loki
cd monitoring
docker-compose -f docker-compose.monitoring.yaml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl -f http://localhost:9090  # Prometheus
curl -f http://localhost:3000  # Grafana
```

### 5.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Grafana
1. –û—Ç–∫—Ä—ã—Ç—å http://your-domain.com:3000
2. –õ–æ–≥–∏–Ω: admin, –ü–∞—Ä–æ–ª—å: admin123
3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –∏–∑ `monitoring/grafana/dashboards/`

---

## üíæ –≠—Ç–∞–ø 6: –†–µ–∑–µ—Ä–≤–Ω–æ–µ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### 6.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –±—ç–∫–∞–ø–æ–≤
mkdir -p backups

# –¢–µ—Å—Ç–æ–≤—ã–π –±—ç–∫–∞–ø
./backup.bat

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤
crontab -e
# –î–æ–±–∞–≤–∏—Ç—å: 0 2 * * * /path/to/backup.bat
```

### 6.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –±—ç–∫–∞–ø–∞
./restore.bat
```

---

## üîÑ –≠—Ç–∞–ø 7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 7.1 –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
./backup.bat

# 2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yaml down

# 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin main

# 4. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose -f docker-compose.prod.yaml build --no-cache

# 5. –ó–∞–ø—É—Å–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yaml up -d

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
curl -f http://localhost/health
```

### 7.2 –û—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
```bash
# –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
./restore.bat
```

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –î–µ–ø–ª–æ—è

### ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –°–µ—Ä–≤–µ—Ä –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∏ –∑–∞—â–∏—â–µ–Ω
- [ ] Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] .env —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã
- [ ] –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### ‚úÖ –î–µ–ø–ª–æ–π
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
- [ ] Health checks –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] SSL —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] Prometheus –∑–∞–ø—É—â–µ–Ω
- [ ] Grafana –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] –õ–æ–≥–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
- [ ] –ê–ª–µ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Fail2ban –∞–∫—Ç–∏–≤–µ–Ω
- [ ] SSH –∑–∞—â–∏—â–µ–Ω
- [ ] SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

---

## üö® –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –≤ –°–ª—É—á–∞–µ –ü—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker exec lookhub-db pg_isready -U lookhubweb -d lookhub

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs lookhub-db

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
./restore.bat
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.prod.yaml logs lookhub-web

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose -f docker-compose.prod.yaml restart lookhub-web
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Nginx
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
docker exec lookhub-nginx nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
docker-compose -f docker-compose.prod.yaml restart nginx
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: http://your-domain.com
- **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å**: http://your-domain.com/admin
- **Grafana**: http://your-domain.com:3000
- **Prometheus**: http://your-domain.com:9090
- **Flower**: http://your-domain.com/flower

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yaml ps

# –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.prod.yaml logs -f

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
df -h

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏
free -h
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏ –∏ –∫–ª—é—á–∏
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
3. **–ë—ç–∫–∞–ø—ã**: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –±—ç–∫–∞–ø–æ–≤
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ staging —Å—Ä–µ–¥–µ
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –í–µ–¥–∏—Ç–µ –∂—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: $(date)*

